---
import Layout from "../layouts/Layout.astro";
import Intro from "../ui/components/Intro.astro";
import Projects from "../ui/components/Projects.astro";
import ContactMe from "../ui/components/ContactMe.astro";

const { href, origin } = Astro.url;
const title = "Adán Rodríguez - Desarrollador Web";
const description =
  "Soy un desarrollador web junior especializado en React, Next.js y Astro. En mi portafolio encontrarás más información sobre mi y conocerás todos mis proyectos.";
const urlImage = `${origin}/images/adan-rodriguez.avif`;
const altImage = "Foto de Adán Rodríguez";
---

<Layout title={title} description={description}>
  <Fragment slot="open-graph">
    <meta property="og:url" content={href} />
    <meta property="og:site_name" content={title} />
    <meta property="og:locale" content="es_LA" />
    <meta property="og:image" content={urlImage} />
    <meta property="og:image:alt" content={altImage} />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={urlImage} />
    <meta name="twitter:image:alt" content={altImage} />
  </Fragment>
  <Fragment slot="preloads">
    <link
      rel="preload"
      href="/images/adan-rodriguez.avif"
      as="image"
      type="image/avif"
    />
    <link
      rel="preload"
      href="/images/html.svg"
      as="image"
      type="image/svg+xml"
    />
    <link
      rel="preload"
      href="/images/css.svg"
      as="image"
      type="image/svg+xml"
    />
    <link
      rel="preload"
      href="/images/javascript.svg"
      as="image"
      type="image/svg+xml"
    />
    <link
      rel="preload"
      href="/images/react.svg"
      as="image"
      type="image/svg+xml"
    />
    <link
      rel="preload"
      href="/images/nextjs.svg"
      as="image"
      type="image/svg+xml"
    />
    <link
      rel="preload"
      href="/images/astro.svg"
      as="image"
      type="image/svg+xml"
    />
  </Fragment>
  <style is:inline slot="critical-css">
    .intro {
      padding-block: 4rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2rem;

      .data {
        max-width: 50ch;
        display: flex;
        flex-direction: column;
        align-items: center;
        row-gap: 1rem;
      }

      .name {
        font-size: 1.5rem;
        font-weight: 700;
        text-align: center;
      }

      .label {
        font-size: 2.5rem;
        font-weight: 900;
        text-align: center;
        background-image: linear-gradient(
          to right,
          var(--color-primary),
          var(--text-color-primary)
        );
        -webkit-text-fill-color: transparent;
        color: transparent;
        -webkit-background-clip: text;
        background-clip: text;
      }

      .about-me {
        font-size: 0.875rem;
        color: var(--text-color-secondary);
        text-align: center;
        display: flex;
        flex-direction: column;
        row-gap: 0.5rem;
        font-weight: 500;
      }

      .about-me span {
        font-weight: 800;
        color: var(--color-primary);
      }

      .argentina-flag {
        display: inline-block;
        width: 16px;
        aspect-ratio: 1/1;
      }

      ul {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        justify-content: center;

        & a,
        & .copy-email-btn,
        & #open-cv {
          display: flex;
          align-items: center;
          column-gap: 0.5rem;
          padding: 0.25rem 2rem;
          box-shadow: var(--shadow-black-lg);
          border-radius: 2rem;
          background-image: linear-gradient(
            to bottom right,
            black,
            var(--color-primary),
            black
          );
          font-size: 0.875rem;
          transition: scale 0.3s;
          color: white;

          &:is(:hover, :focus-visible) {
            scale: 1.05;
          }

          &:active {
            translate: 0 0.125rem;
          }
        }

        .copy-email-btn {
          position: relative;
          cursor: copy;

          .copy-icon {
            position: absolute;
            right: 18px;
            translate: 0 -7px;
            transition: color 0.3s;
          }

          @media (scripting: none) {
            display: none;
          }
        }

        a[href^="mailto"] {
          display: none;
          position: relative;

          @media (scripting: none) {
            display: flex;
          }
        }

        .linkedin-link {
          position: relative;
        }

        .github-link {
          position: relative;
        }

        #open-cv {
          position: relative;

          @media (scripting: none) {
            display: none;
          }
        }

        & #cv-link {
          display: none;
          position: relative;

          @media (scripting: none) {
            display: flex;
          }
        }
      }

      @media (width >= 907px) {
        flex-direction: row;
        justify-content: space-between;

        .data {
          align-items: flex-start;
        }

        .label {
          text-align: start;
        }

        .about-me {
          text-align: start;
        }

        ul {
          justify-content: flex-start;
        }
      }
    }

    #me {
      --size: 300px;

      width: var(--size);
      height: var(--size);
      position: relative;
      border-radius: 100%;
      background-image: radial-gradient(black 40%, var(--color-primary));
      mix-blend-mode: var(--mix-mode-me-img);
      box-shadow: 0 0 20px var(--color-primary);
      transition: transform 0.15s;

      .me {
        width: var(--size);
        height: var(--size);
        object-fit: cover;
        object-position: top;
        border-radius: 100%;
      }

      &::after {
        box-shadow: 0 -20px 20px var(--color-primary) inset;
        position: absolute;
        top: 0;
        width: 100%;
        height: 100%;
        border-radius: 100%;
        animation: shadow-inset 5s linear infinite;

        @media (width >=640px) {
          content: "";
        }
      }

      &::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 14px;
        background-image: radial-gradient(
          var(--color-primary) 0% 35%,
          transparent
        );
        bottom: -5rem;
        border-radius: 100%;
        filter: blur(15px);
        pointer-events: none;
      }

      .tech {
        --tech-size: 44px;

        /* scale: 0; */
        position: absolute;
        width: var(--tech-size);
        pointer-events: none;
        top: 50%;
        left: 50%;
        translate: -50% -50%;
        animation: aparecer 3s ease;
        z-index: 1;
      }

      .html {
        transform: rotate(0deg) translate(calc(var(--size) / 2)) rotate(0deg);
      }

      .css {
        transform: rotate(60deg) translate(calc(var(--size) / 2)) rotate(-60deg);
      }

      .javascript {
        transform: rotate(120deg) translate(calc(var(--size) / 2))
          rotate(-120deg);
      }

      .react {
        transform: rotate(180deg) translate(calc(var(--size) / 2))
          rotate(-180deg);
      }

      .nextjs {
        transform: rotate(240deg) translate(calc(var(--size) / 2))
          rotate(-240deg);
      }

      .astro {
        transform: rotate(300deg) translate(calc(var(--size) / 2))
          rotate(-300deg);
      }
    }

    @media (width >=640px) {
      #me::after {
        content: "";
      }
    }

    @keyframes shadow-inset {
      to {
        rotate: -360deg;
      }
    }

    @keyframes aparecer {
      0% {
        scale: 0;
      }

      100% {
        scale: 1;
      }
    }
  </style>
  <Intro />
  <Projects />
  <!-- <ContactMe /> -->
</Layout>
