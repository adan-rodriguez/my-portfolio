---
import GitHubIcon from "../icons/GitHubIcon.astro";
import LinkedinIcon from "../icons/LinkedinIcon.astro";
import EmailIcon from "../icons/EmailIcon.astro";
import DownloadIcon from "../icons/DownloadIcon.astro";
import CloseIcon from "../icons/CloseIcon.astro";
import FileIcon from "../icons/FileIcon.astro";
import MyImage from "./MyImage.astro";
import ExternalLinkIcon from "../icons/ExternalLinkIcon.astro";
---

<section>
  <div class="data">
    <h1 class="name">Hola! Soy Adán Rodríguez</h1>
    <h2 class="label">Desarrollador Web</h2>
    <div class="about-me">
      <p>
        Me llamo Adán Rodríguez, soy de Argentina
        <img
          src="images/bandera-argentina.webp"
          alt="Bandera de Argentina"
          aria-hidden="true"
          class="argentina-flag"
        />
        y tengo 28 años.
      </p>
      <p>
        Me especializo en <span>React</span>, <span>Next.js</span> y <span
          >Astro</span
        >.
      </p>
      <p>
        Se destacan entre mis trabajos el portal de noticias <span
          >"El Villanense"</span
        >, el sitio de la <span>Liga Ocampense de Fútbol</span> y la página oficial
        de la <span>Comuna de Villa Ana</span>, lugar donde vivo.
      </p>
      <p>
        Soy estudiante de una <span>Tecnicatura en Desarrollo Web</span> en la Universidad
        Nacional de Entre Ríos, Argentina.
      </p>
    </div>
    <!-- <div aria-hidden="true" class="skills">
        <img src="images/html.svg" alt="Logo de HTML" class="skill" />
        <img src="images/css.svg" alt="Logo de CSS" class="skill" />
        <img
          src="images/javascript.svg"
          alt="Logo de Javascript"
          class="skill"
        />
        <img src="images/react.svg" alt="Logo de React" class="skill" />
        <img
          src="images/nextjs.svg"
          alt="Logo de Next.js"
          class="skill skill--nextjs"
        />
      </div> -->
    <ul>
      <li>
        <a
          href="mailto:adan.rodriguez.fusta@gmail.com"
          aria-label="Envía un correo a Adán Rodríguez"
          rel="noopener"><EmailIcon />adan.rodriguez.fusta@gmail.com</a
        >
      </li>
      <li>
        <a
          href="https://www.linkedin.com/in/adan-gabriel-rodriguez"
          target="_blank"
          rel="noopener"><LinkedinIcon />LinkedIn</a
        >
      </li>
      <li>
        <a
          href="https://github.com/adan-rodriguez"
          target="_blank"
          rel="noopener"><GitHubIcon width="24" height="24" />GitHub</a
        >
      </li>
      <li>
        <button
          id="open-cv"
          aria-label="Ver currículum de Adán Rodríguez en una modal"
          ><FileIcon />Currículum</button
        >
        <a
          id="cv-link"
          href="/docs/curriculum-vitae-adan-rodriguez.pdf"
          target="_blank"
          aria-label="Ver currículum de Adán Rodríguez en una pestaña nueva (PDF)"
          ><FileIcon />Curriculum<ExternalLinkIcon /></a
        >
      </li>
    </ul>
    <dialog id="modal-cv">
      <button id="close-cv" aria-label="Cerrar modal">
        <CloseIcon />
      </button>
      <a
        download="Currículum Vitae - Adán Rodríguez"
        href="/docs/curriculum-vitae-adan-rodriguez.pdf"
        aria-label="Descargar currículum (PDF)"><DownloadIcon /></a
      >
      <img
        src="/images/curriculum.avif"
        alt="Currículum vitae de Adán Rodríguez"
      />
    </dialog>
  </div>
  <MyImage />
</section>

<style>
  section {
    padding-block: 4rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
  }

  .data {
    max-width: 50ch;
    display: flex;
    flex-direction: column;
    align-items: center;
    row-gap: 1rem;
  }

  .name {
    font-size: 1.5rem;
    font-weight: 700;
    text-align: center;
  }

  .label {
    font-size: 2.5rem;
    font-weight: 900;
    text-align: center;
    background-image: linear-gradient(
      to right,
      var(--color-primary),
      var(--text-color-primary)
    );
    -webkit-text-fill-color: transparent;
    color: transparent;
    -webkit-background-clip: text;
    background-clip: text;
  }

  .about-me {
    font-size: 0.875rem;
    color: var(--text-color-secondary);
    text-align: center;
    display: flex;
    flex-direction: column;
    row-gap: 0.5rem;
    font-weight: 500;
  }

  .about-me span {
    font-weight: 800;
    color: var(--color-primary);
  }

  .argentina-flag {
    display: inline-block;
    width: 16px;
    aspect-ratio: 1/1;
  }

  /* .skills {
    background-image: linear-gradient(var(--color-secondary), black);
    border-radius: 1rem;
    padding: 10px;
  }

  .skill {
    height: 2rem;
    animation: skill 1.5s linear infinite;
    margin-left: 0.5rem;
    display: inline-block;
  }

  @keyframes skill {
    0% {
      transform: translateX(0px);
    }
    25% {
      transform: translateX(-5px);
    }
    50% {
      transform: translateX(0px);
    }
    75% {
      transform: translateX(5px);
    }
    100% {
      transform: translateX(0px);
    }
  }

  .skill--nextjs {
    margin-left: 0.25rem;
  } */

  ul {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    justify-content: center;

    & a,
    & #open-cv {
      display: flex;
      align-items: center;
      column-gap: 0.5rem;
      padding: 0.25rem 2rem;
      box-shadow: var(--shadow-black-lg);
      border: 1px solid var(--text-color-secondary);
      border-radius: 2rem;
      background-color: var(--color-primary);
      mix-blend-mode: var(--mix-mode-intro-links);
      font-size: 0.875rem;
      transition: scale 0.3s;

      &:hover {
        scale: 1.05;
      }

      &:focus-visible {
        scale: 1.05;
      }

      &:active {
        translate: 0 0.125rem;
      }
    }

    & #open-cv {
      @media (scripting: none) {
        display: none;
      }
    }

    & #cv-link {
      display: none;
      position: relative;

      @media (scripting: none) {
        display: flex;
      }
    }
  }

  #modal-cv {
    scrollbar-width: thin;
    opacity: 0;
    transition:
      display 0.15s,
      opacity 0.15s,
      overlay 0.15s;
    transition-behavior: allow-discrete;
    color: var(--text-color-primary);
    width: 80%;
    max-width: 768px;

    &[open] {
      opacity: 1;

      @starting-style {
        opacity: 0;
      }
    }

    &::backdrop {
      backdrop-filter: blur(16px);
    }

    & img {
      width: 100%;
    }

    & #close-cv {
      position: fixed;
      right: 1rem;
      top: 19px;
      transition: scale 0.15s;

      &:is(:hover, :focus-visible) {
        scale: 1.1;
      }
    }

    & a[download] {
      position: fixed;
      right: 1rem;
      top: 4rem;
      transition: scale 0.15s;

      &:is(:hover, :focus-visible) {
        scale: 1.1;
      }
    }
  }

  @media (width >= 907px) {
    section {
      flex-direction: row;
      justify-content: space-between;
    }

    .data {
      align-items: flex-start;
    }

    .label {
      text-align: start;
    }

    .about-me {
      text-align: start;
    }

    ul {
      justify-content: flex-start;
    }
  }
</style>

<script>
  const cvBtn = document.querySelector("#open-cv");
  const cvModal = document.querySelector("#modal-cv");
  const closeBtn = cvModal.querySelector("#close-cv");

  function showCv() {
    cvModal.showModal();
  }

  function hideCv() {
    cvModal.close();
  }

  function closeModal(e) {
    if (e.target.matches("#modal-cv")) hideCv();
  }

  cvBtn.addEventListener("click", showCv);
  closeBtn.addEventListener("click", hideCv);
  cvModal.addEventListener("click", closeModal);
</script>
